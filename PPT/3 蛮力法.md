# 蛮力法

一种简单直接解决问题 方法，常常直接基于问题的描述和所涉及的概念定义

枚举、穷举、暴力解法

体现蛮力法的一些解决问题的方案

- 搜索所有解空间
  - 找约束条件、找枚举范围：在搜索前尽可能减小搜索空间
- 搜索所有路径
- 直接计算
- 模拟和仿真

选择排序、冒泡排序

## 顺序查找

在给定的列表中查找一个给定的值

- 遍历列表直到找到给定的元素

- 需要判断列表是否结束
  - 技巧：将给定元素放到列表结尾，最后判断一次是否是列表的结尾

- 时间复杂度：Θ(n)

确定搜索空间，在空间内根据限制条件顺序查找

- 白鸡百钱问题
  - 中国古代数学家张丘建在《算经》中提出了著名的“百鸡百钱问题”：鸡翁一，值钱五；鸡母一值钱三；鸡雏三，值钱一；百钱买百鸡，翁、母、雏各几何？
  - 算法设计1
    - 3个需要确定的值，各有空间；有一个限制条件
    - 遍历整个搜索空间
  - 算法设计2
    - 三个变量之间就有一个限制条件，只要遍历其中两个的空间即可
    - 额外发现雏必须是3的倍数

- n求所有的三位数，它除以11所得的余数等于它的三位数字的平方和
  - 三位数只有900个
  - 除以11的余数只有11种可能，0不算，只有10个
  - 三个数平方和小于等于10的必定都小于等于3
  - 百位数不等于0
- 某公司有N层楼，为了测出哪层楼最高，可以使用一种仪器从天花板向地板自由落体，仪器不会摔坏；如果有两个一模一样的仪器，请设计一个最佳效率类型的算法解决这个问题

## 字符串匹配

给定一个n个字符组成的串，称为文本，一个m(m<=n)个字符的串，称为模式，从文本中寻找匹配模式的子串

蛮力解法

- 以文本中的每一个字符为开始字符，用模式串去匹配，直到文本结束

- 最糟糕的情况下算法效率属于Θ(nm)

- 可以认为大多数移动的情况都是发生在很少的比较次数之后，因此算法的平均效率比最坏情况要好的多
  - 随机查找文本的时候，显示出线性效率Θ(n+m) = Θ(n)

```
Algorithm BruteForceStringMatch(T[0...n-1], P[0...m-1])
// 蛮力字符串匹配
// 输入：一个n个字符的数组T[0...n-1]，代表一段文本
//      一个m个字符的数组P[0...m-1]，代表一段模式
// 输出：如果查询成功，返回文本的第一个匹配子串中第一个字符的位置
//      否则返回-1
for i <- 0 to n-m do
	j <- 0
	while j < m and P[j] = T[i+j] do
		j <- j+1
		if j = m
			return i
return -1
```

最坏情况：O(mn)

例. 给定一个文本CADFBAAXBYA，计算以A开始以B结束的字符串个数

- 联想一下：区间包含点个数的问题？是否有关联？

## 最近对问题

找出一个包含n个点的集合中距离最近的两个点

蛮力解法

- 求出每两个点之间的距离，选出最小的那个

- 不重复计算两个点之间距离：i=0; j=i+1

- 不计算具体距离，使用平方和代表距离

- 复杂度为Θ(n^2)

```
Algorithm BruteForceClosestPoints(p)
// 使用蛮力算法求屏幕中距离最近的两点
// 输入：一个n（n>=2）个点的列表p，pi=(xi，yi)
// 输出：两个最近点的距离
d <- ∞
for i<- 1 to n-1 do
	for j <- i+1 to n do
		d <- min(d, sqrt((xi-xj)^2 + (yi-yj)^2))
return d
```

## 凸包问题

凸集合

- 对于平面上的一个点集合（有限的或者无限的），如果以集合中任意两点P和Q为端点的线段都属于该集合，我们说这个集合是凸的

- 凸集合例子：直线、三角形和任意凸多边形等

- 非凸集合例子：五角星、月牙形状等

n凸包

- 一个点集合S的凸包是包含S的最小凸集合（“最小”是意指，S的凸包一定是所有包含S的凸集合的子集）

- 例子
  - 如果S是凸的，它的凸包是它本身
  - 如果S只有两个点、如果S只有三个共线的点、如果S只有三个不共线的点

凸包定理

- 任意包含多于两个不共线点的集合S的凸包肯定是以S中某些点为顶点的凸多边形

凸包问题

- 为一个包含n个点的集合构造凸包的问题

极点：凸包的顶点

找到极点、找到极点连接的顺序

蛮力解法

- 如果两个点构成的线段是凸包的边界，则其它点都在这条线段所在直线的一边

- 复杂度Θ(n<sup>3</sup>)

线性规划问题

- 多变量线性函数的最优化问题；这些变量满足一些线性等式或者不等式形式的约束
- 约束条件构成一个可行区域：凸包
- 最优解和凸包的关系
  - 最优解一定出现在凸包的某个极点上
- 线性规划转换为求凸包极点的问题

## 穷举查找

用户在指数级增长的解空间中查找满足要求的解

解决最优问题的蛮力解法

- 旅行商问题

  - 有一个旅行商从城市1出发，需要到城市2，3，…，n去推销货物，最后返回城市1，若任意两个城市之间的距离已知，则该旅行商应如何选择其最佳行走路线

    - TSP在图论意义下又被称为最小哈密顿回路问题：对图的每一个点都经过一次最后回到原点的路径问题

  - n有a、b、c、d四个城市，两两之间的距离如图所示，找到从a出发经过其它所有点后回到a的最短路径

    - <img src="pic\3\1.png" style="zoom: 50%;" />

    - 穷举：

      - a -> b -> c -> d -> a      length=2+8+1+7=18

        a -> b -> d -> c -> a      length=2+3+1+5=11   最佳

        a -> c -> b -> d -> a      length=5+8+3+7=23

        a -> c -> d -> b -> a      length=5+1+3+2=11   最佳

        a -> d -> b -> c -> a      length=7+3+8+5=23

        a -> d -> c -> b -> a      length=7+1+8+2=18

    - 优化：定义中间一条路径的方向

      - 因为不同方向的值是相同的，例如只考虑b在c之前的路径
      - 优化之后的排列是(n-1)! / 2，减少了一半

  - 旅行商问题的拓展

    - 瓶颈TSP——简称BTSP

      - 经过的最长距离最短
      - 最小化瓶颈距离
      - 仍然是NP难问题
    - 最小比率TSP——简称MRTSP
- 除了行程还会产生收益
      - 优化目标：总行程与总收益比最小
- 与单纯的总行程最短比，更具有实际意义
    - 多人TSP——简称MTSP
- 多个推销员同时出发，走不同路线，使得所有城市至少被访问一次
      - 所有人的总路程最小

- 背包问题

- 分配问题